<!DOCTYPE html>
<html>
   <head>
       <title>Lab 3 </title>
       <link rel="stylesheet" href="leaflet.css" />
       <script src="leaflet.js"></script>
       <script type="text/javascript" src="data.js"></script>
   </head>

   <body>
       <div id="map" style="height: 550px"></div>

       <script type="text/javascript">
         var map = L.map('map').setView([51.48,-0.07], 10);

         L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}', {
           attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="http://mapbox.com">Mapbox</a>',
           maxZoom: 11,
           minZoom: 5,
           id: 'mapbox.light',
           accessToken: 'pk.eyJ1IjoiY3VyZW1hbmdvIiwiYSI6ImNpcTQ4cGFwbDAxbmVmd25vZGNiOTVzeGEifQ.GWZByYkIft6eMRha69C8nw'
         }).addTo(map);

         function getColor(value) {
              return value > 139 ? '#54278f':
                     value > 87  ? '#756bb1':
                     value > 53  ? '#9e9ac8':
                     value > 32  ? '#cbc9e2':
                                   '#f2f0f7';
          }

          function style(feature){
              return {
                  fillColor: getColor(feature.properties.pop_den),
                  weight: 2,
                  opacity: 1,
                  color: 'gray',
                  fillOpacity: 0.9
              };
          }

         L.geoJson(data, {style:style}).addTo(map);

       </script>
  </body>
</html>
